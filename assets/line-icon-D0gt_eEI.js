import{j as e,r as a}from"./iframe-CP1cIlOF.js";import{c as L}from"./clsx-B-dksMZM.js";var y=(r=>(r.black="#000",r.white="#fff",r))(y||{});const I=45,u=I-3,A=(r,n)=>{const t=[r,n].map(s=>s.match(/^(\w+).+$/));if(t[0]&&t[1]&&t[0][1]===t[1][1])return t[0][1]},R=r=>r.match(/^(\d+)\D+$/)?.[1];function D(r){const{customWidth:n,...t}=r,s=(n??I)-I;return e.jsx("rect",{x:-22.5-s/2,height:24,width:n??I,rx:4.5,...t,"data-testid":"intBox"})}D.__docgenInfo={description:"",methods:[],displayName:"InterchangeBox",props:{customWidth:{required:!1,tsType:{name:"number"},description:""}},composes:["SVGProps"]};const P=(r,n)=>{const t=R(r);if(t)return{isDigit:!0,spanningPart:t};const s=A(r,n);return s?{isDigit:!1,spanningPart:s}:{isDigit:!1,spanningPart:""}},b=a.forwardRef(function(n,t){const{zhName:s,enName:o,foregroundColour:g,backgroundColour:B,passed:h,spanDigits:$,className:p,classNames:i,children:N,textProps:l,...w}=n,{isDigit:m,spanningPart:c}=P(s,o),x=a.useRef(null),[d,z]=a.useState({x:0,height:0,width:0});a.useEffect(()=>{x.current&&z(x.current.getBBox())},[s,o]);const j=u/Math.max(u,d.width),S=(-d.x-d.width/2)*j,f=d.height*(1-j)/2;return e.jsxs("g",{ref:t,textAnchor:"middle",fill:h?y.white:g,className:L(i?.wrapper,p),...w,children:[e.jsx(D,{fill:h?"#aaa":B}),e.jsxs("g",{ref:x,transform:`translate(${S},${f})scale(${j})`,children:[e.jsx("text",{fontSize:21,x:-1,y:12,textAnchor:"end",dominantBaseline:"central",className:i?.digits,...l?.digits,children:c}),e.jsx("text",{fontSize:10,x:0,y:8,textAnchor:"start",dominantBaseline:"central",className:i?.zh,...l?.zh,children:s.slice(c.length).trim()}),e.jsx("text",{fontSize:6.5,letterSpacing:-.1,x:0,y:18,textAnchor:"start",dominantBaseline:"middle",className:i?.en,...l?.en,children:m?o:o.slice(c.length).trim()})]}),N]})}),_=a.forwardRef(function(n,t){const{zhName:s,enName:o,foregroundColour:g,backgroundColour:B,passed:h,spanDigits:$,className:p,classNames:i,children:N,textProps:l,...w}=n,m=R(s)??"",c=a.useRef(null),x=a.useRef(null),[d,z]=a.useState({x:0,width:0}),[j,S]=a.useState({width:0});a.useEffect(()=>{c.current&&z(c.current.getBBox()),x.current&&S(x.current.getBBox())},[s,o]);const f=u/Math.max(u,d.width),E=u/Math.max(u,j.width),Z={nameZh:{x:-(d.x+d.width/2)*f,y:7.3+13.5*(1-f)*f/2*f},nameEn:{y:19.5-9*(1-E)*E/2}};return e.jsxs("g",{ref:t,fill:h?y.white:g,className:L(i?.wrapper,p),...w,children:[e.jsx(D,{fill:h?"#aaa":B}),e.jsxs("g",{ref:c,transform:`translate(${Z.nameZh.x},${Z.nameZh.y})scale(${f})`,children:[e.jsx("text",{ref:c,fontSize:16,textAnchor:"end",y:.7,dominantBaseline:"central",className:i?.digits,...l?.digits,children:m}),e.jsx("text",{fontSize:12,textAnchor:"start",dominantBaseline:"central",className:i?.zh,...l?.zh,children:s.slice(m.length)})]}),e.jsx("text",{ref:x,fontSize:8,textAnchor:"middle",transform:`translate(0,${Z.nameEn.y})scale(${E})`,dominantBaseline:"middle",className:i?.en,...l?.en,children:o}),N]})}),C=a.forwardRef(function(n,t){const{zhName:s,enName:o,foregroundColour:g,backgroundColour:B,passed:h,spanDigits:$,className:p,classNames:i,children:N,textProps:l,...w}=n,m=a.useRef(null),[c,x]=a.useState({width:0});a.useEffect(()=>{m.current&&x(m.current.getBBox())},[s,o]);const d=Math.max(45,c.width+4);return e.jsxs("g",{ref:t,textAnchor:"middle",fill:h?y.white:g,className:L(i?.wrapper,p),...w,children:[e.jsx(D,{customWidth:d,fill:h?"#aaa":B}),e.jsxs("g",{ref:m,children:[e.jsx("text",{fontSize:8.5,y:8,dominantBaseline:"central",className:i?.zh,...l?.zh,children:s}),e.jsx("text",{fontSize:5.5,y:18,dominantBaseline:"middle",className:i?.en,...l?.en,children:o})]}),N]})}),T=a.forwardRef(function(n,t){const{zhName:s,enName:o,foregroundColour:g,backgroundColour:B,passed:h,spanDigits:$,className:p,classNames:i,children:N,textProps:l,...w}=n,m=a.useRef(null),c=a.useRef(null),[x,d]=a.useState({width:0}),[z,j]=a.useState({width:0});a.useEffect(()=>{m.current&&d(m.current.getBBox()),c.current&&j(c.current.getBBox())},[s,o]);const S=u/Math.max(u,x.width),f=u/Math.max(u,z.width),E={nameZh:{y:7.3+13.5*(1-S)*S/2},nameEn:{y:19.5-9*(1-f)*f/2}};return e.jsxs("g",{ref:t,textAnchor:"middle",fill:h?y.white:g,className:L(i?.wrapper,p),...w,children:[e.jsx(D,{fill:h?"#aaa":B}),e.jsx("text",{ref:m,fontSize:12,transform:`translate(0,${E.nameZh.y})scale(${S})`,dominantBaseline:"central",className:i?.zh,...l?.zh,children:s}),e.jsx("text",{ref:c,fontSize:8,transform:`translate(0,${E.nameEn.y})scale(${f})`,dominantBaseline:"middle",className:i?.en,...l?.en,children:o}),N]})}),v=a.memo(a.forwardRef(function(n,t){const{zhName:s,enName:o,spanDigits:g}=n;switch(M(s,o)){case 1:return g?e.jsx(b,{ref:t,...n}):e.jsx(_,{ref:t,...n});case 2:return e.jsx(b,{ref:t,...n});default:return s.length>=5?e.jsx(C,{ref:t,...n}):e.jsx(T,{ref:t,...n})}})),M=(r,n)=>R(r)!==void 0?1:A(r,n)!==void 0?2:3;export{v as L,y as M};
