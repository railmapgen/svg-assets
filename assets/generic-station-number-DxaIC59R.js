import{j as t}from"./jsx-runtime-Cf8x2fCZ.js";import{r as e}from"./index-BlmOqGMO.js";const h=1.3,W=1.7,N=18.5,z=N+h,F=N*2+h,O={updateId:0,update:()=>{}},H=e.createContext(O),o=17,R=["Arial"],A=e.forwardRef(function(S,T){const{Icon:g,lineNum:s,stnNum:n,strokeColour:B,passed:m,size:d,textClassName:u,bolderBorder:I,alwaysShowColouredBorder:C,useSameScale:r,children:w,...b}=S,{updateId:y}=e.useContext(H),a=e.useRef(null),i=e.useRef(null),[E,_]=e.useState({width:0}),[j,q]=e.useState({width:0}),p=()=>{a.current&&_(a.current.getBBox()),i.current&&q(i.current.getBBox())};e.useEffect(()=>{const x=new AbortController;return p(),document.fonts.load("12px "+R.join(", "),(s??"")+(n??"")).then().finally(()=>{setTimeout(()=>{x.signal.aborted||p()},100)}),()=>{x.abort()}},[s,n,y]);const l=s&&s.length>2,c=n&&n.length>2;e.useEffect(()=>{r&&(l||c)&&console.warn("GenericStationNumber(), useSameScale props does not work when lineNum has more than 2 characters")},[r,l,c]);const f=o/Math.max(o,E.width),G=r&&!l&&!c?f:o/Math.max(o,j.width),L=d==="sm"?"0.7":d==="lg"?"1.6":1;return t.jsxs("g",{ref:T,...b,children:[t.jsxs("g",{transform:`scale(${L})`,children:[t.jsx(g,{stroke:m&&!C?"#aaa":B,filled:!s&&!n,bolder:I}),(s||n)&&t.jsxs("g",{textAnchor:"middle",fontSize:13.5,fill:m?"#aaa":"#000",children:[t.jsx("g",{transform:`translate(-9.25,0)scale(${f})`,children:t.jsx("text",{ref:a,className:u,dominantBaseline:"central",x:.5,children:s})}),t.jsx("g",{transform:`translate(9.25,0)scale(${G})`,children:t.jsx("text",{ref:i,className:u,dominantBaseline:"central",children:n})})]})]}),w]})});A.__docgenInfo={description:"",methods:[],displayName:"GenericStationNumber",props:{Icon:{required:!0,tsType:{name:"ExoticComponent",elements:[{name:"StationIconProps"}],raw:"ExoticComponent<StationIconProps>"},description:""},lineNum:{required:!1,tsType:{name:"string"},description:""},stnNum:{required:!1,tsType:{name:"string"},description:""},strokeColour:{required:!0,tsType:{name:"string"},description:""},passed:{required:!1,tsType:{name:"boolean"},description:""},size:{required:!1,tsType:{name:"union",raw:"'sm' | 'md' | 'lg'",elements:[{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"}]},description:""},textClassName:{required:!1,tsType:{name:"string"},description:""},bolderBorder:{required:!1,tsType:{name:"boolean"},description:""},alwaysShowColouredBorder:{required:!1,tsType:{name:"boolean"},description:""},useSameScale:{required:!1,tsType:{name:"boolean"},description:""}},composes:["SVGProps"]};export{A as G,W as I,H as S,h as a,N as b,F as c,z as d};
