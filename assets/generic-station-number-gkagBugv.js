import{j as n}from"./jsx-runtime-Cf8x2fCZ.js";import{r as e}from"./index-BlmOqGMO.js";import{c as D}from"./clsx-B-dksMZM.js";const S=1.3,K=1.7,B=18.5,U=B+S,X=B*2+S,W={updateId:0,update:()=>{}},k=e.createContext(W),r=17,F=["Arial"],v=e.forwardRef(function(p,g){const{Icon:T,lineNum:s,stnNum:o,strokeColour:I,passed:d,size:m,bolderBorder:w,alwaysShowColouredBorder:C,useSameScale:a,className:E,classNames:t,children:_,textProps:x,...j}=p,{updateId:b}=e.useContext(k),c=e.useRef(null),i=e.useRef(null),[L,O]=e.useState({width:0}),[G,H]=e.useState({width:0}),h=()=>{c.current&&O(c.current.getBBox()),i.current&&H(i.current.getBBox())};e.useEffect(()=>{const N=new AbortController;return h(),document.fonts.load("12px "+F.join(", "),(s??"")+(o??"")).then().finally(()=>{setTimeout(()=>{N.signal.aborted||h()},100)}),()=>{N.abort()}},[s,o,b]);const l=s&&s.length>2,u=o&&o.length>2;e.useEffect(()=>{a&&(l||u)&&console.warn("GenericStationNumber(), useSameScale props does not work when lineNum has more than 2 characters")},[a,l,u]);const f=r/Math.max(r,L.width),R=a&&!l&&!u?f:r/Math.max(r,G.width),A=m==="sm"?"0.7":m==="lg"?"1.6":1;return n.jsxs("g",{ref:g,className:D(t==null?void 0:t.wrapper,E),...j,children:[n.jsxs("g",{transform:`scale(${A})`,children:[n.jsx(T,{stroke:d&&!C?"#aaa":I,filled:!s&&!o,bolder:w}),(s||o)&&n.jsxs("g",{textAnchor:"middle",fontSize:13.5,fill:d?"#aaa":"#000",children:[n.jsx("g",{transform:`translate(-9.25,0)scale(${f})`,children:n.jsx("text",{ref:c,dominantBaseline:"central",x:.5,className:t==null?void 0:t.digits,...x,children:s})}),n.jsx("g",{transform:`translate(9.25,0)scale(${R})`,children:n.jsx("text",{ref:i,dominantBaseline:"central",className:t==null?void 0:t.digits,...x,children:o})})]})]}),_]})});export{v as G,K as I,k as S,S as a,B as b,X as c,U as d};
