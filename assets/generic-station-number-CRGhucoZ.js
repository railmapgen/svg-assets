import{j as t}from"./jsx-runtime-Cf8x2fCZ.js";import{r as e}from"./index-BlmOqGMO.js";const N=1.3,M=1.7,S=18.5,$=S+N,y=S*2+N,R={updateId:0,update:()=>{}},A=e.createContext(R),o=17,D=["Arial"],z=e.forwardRef(function(B,T){const{Icon:I,lineNum:n,stnNum:s,strokeColour:g,passed:u,size:m,textClassName:d,bolderBorder:p,alwaysShowColouredBorder:w,useSameScale:a,children:C,...E}=B,{updateId:_}=e.useContext(A),r=e.useRef(null),c=e.useRef(null),[j,b]=e.useState({width:0}),[L,O]=e.useState({width:0}),x=()=>{r.current&&b(r.current.getBBox()),c.current&&O(c.current.getBBox())};e.useEffect(()=>{const f=new AbortController;return x(),document.fonts.load("12px "+D.join(", "),(n??"")+(s??"")).then().finally(()=>{setTimeout(()=>{f.signal.aborted||x()},100)}),()=>{f.abort()}},[n,s,_]);const l=n&&n.length>2,i=s&&s.length>2;e.useEffect(()=>{a&&(l||i)&&console.warn("GenericStationNumber(), useSameScale props does not work when lineNum has more than 2 characters")},[a,l,i]);const h=o/Math.max(o,j.width),G=a&&!l&&!i?h:o/Math.max(o,L.width),H=m==="sm"?"0.7":m==="lg"?"1.6":1;return t.jsxs("g",{ref:T,...E,children:[t.jsxs("g",{transform:`scale(${H})`,children:[t.jsx(I,{stroke:u&&!w?"#aaa":g,filled:!n&&!s,bolder:p}),(n||s)&&t.jsxs("g",{textAnchor:"middle",fontSize:13.5,fill:u?"#aaa":"#000",children:[t.jsx("g",{transform:`translate(-9.25,0)scale(${h})`,children:t.jsx("text",{ref:r,className:d,dominantBaseline:"central",x:.5,children:n})}),t.jsx("g",{transform:`translate(9.25,0)scale(${G})`,children:t.jsx("text",{ref:c,className:d,dominantBaseline:"central",children:s})})]})]}),C]})});export{z as G,M as I,A as S,N as a,S as b,y as c,$ as d};
