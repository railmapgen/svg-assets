import{j as i}from"./jsx-runtime-Cf8x2fCZ.js";import{r as o}from"./index-BlmOqGMO.js";import{c as $}from"./clsx-B-dksMZM.js";var D=(s=>(s.black="#000",s.white="#fff",s))(D||{});const L=45,x=L-3,_=(s,t)=>{const r=[s,t].map(a=>a.match(/^(\w+).+$/));if(r[0]&&r[1]&&r[0][1]===r[1][1])return r[0][1]},b=s=>{const t=s.match(/^(\d+)\D+$/);return t==null?void 0:t[1]};function I(s){const{customWidth:t,...r}=s,a=(t??L)-L;return i.jsx("rect",{x:-22.5-a/2,height:24,width:t??L,rx:4.5,...r,"data-testid":"intBox"})}I.__docgenInfo={description:"",methods:[],displayName:"InterchangeBox",props:{customWidth:{required:!1,tsType:{name:"number"},description:""}},composes:["SVGProps"]};const C=(s,t)=>{const r=b(s);if(r)return{isDigit:!0,spanningPart:r};const a=_(s,t);return a?{isDigit:!1,spanningPart:a}:{isDigit:!1,spanningPart:""}},A=o.forwardRef(function(t,r){const{zhName:a,enName:c,foregroundColour:g,backgroundColour:B,passed:m,spanDigits:Z,className:w,classNames:n,children:j,textProps:e,...S}=t,{isDigit:d,spanningPart:l}=C(a,c),f=o.useRef(null),[h,y]=o.useState({x:0,height:0,width:0});o.useEffect(()=>{f.current&&y(f.current.getBBox())},[a,c]);const E=x/Math.max(x,h.width),p=(-h.x-h.width/2)*E,u=h.height*(1-E)/2;return i.jsxs("g",{ref:r,textAnchor:"middle",fill:m?D.white:g,className:$(n==null?void 0:n.wrapper,w),...S,children:[i.jsx(I,{fill:m?"#aaa":B}),i.jsxs("g",{ref:f,transform:`translate(${p},${u})scale(${E})`,children:[i.jsx("text",{fontSize:21,x:-1,y:12,textAnchor:"end",dominantBaseline:"central",className:n==null?void 0:n.digits,...e==null?void 0:e.digits,children:l}),i.jsx("text",{fontSize:10,x:0,y:8,textAnchor:"start",dominantBaseline:"central",className:n==null?void 0:n.zh,...e==null?void 0:e.zh,children:a.slice(l.length).trim()}),i.jsx("text",{fontSize:6.5,letterSpacing:-.1,x:0,y:18,textAnchor:"start",dominantBaseline:"middle",className:n==null?void 0:n.en,...e==null?void 0:e.en,children:d?c:c.slice(l.length).trim()})]}),j]})}),N=o.forwardRef(function(t,r){const{zhName:a,enName:c,foregroundColour:g,backgroundColour:B,passed:m,spanDigits:Z,className:w,classNames:n,children:j,textProps:e,...S}=t,d=b(a)??"",l=o.useRef(null),f=o.useRef(null),[h,y]=o.useState({x:0,width:0}),[E,p]=o.useState({width:0});o.useEffect(()=>{l.current&&y(l.current.getBBox()),f.current&&p(f.current.getBBox())},[a,c]);const u=x/Math.max(x,h.width),z=x/Math.max(x,E.width),R={nameZh:{x:-(h.x+h.width/2)*u,y:7.3+13.5*(1-u)*u/2*u},nameEn:{y:19.5-9*(1-z)*z/2}};return i.jsxs("g",{ref:r,fill:m?D.white:g,className:$(n==null?void 0:n.wrapper,w),...S,children:[i.jsx(I,{fill:m?"#aaa":B}),i.jsxs("g",{ref:l,transform:`translate(${R.nameZh.x},${R.nameZh.y})scale(${u})`,children:[i.jsx("text",{ref:l,fontSize:16,textAnchor:"end",y:.7,dominantBaseline:"central",className:n==null?void 0:n.digits,...e==null?void 0:e.digits,children:d}),i.jsx("text",{fontSize:12,textAnchor:"start",dominantBaseline:"central",className:n==null?void 0:n.zh,...e==null?void 0:e.zh,children:a.slice(d.length)})]}),i.jsx("text",{ref:f,fontSize:8,textAnchor:"middle",transform:`translate(0,${R.nameEn.y})scale(${z})`,dominantBaseline:"middle",className:n==null?void 0:n.en,...e==null?void 0:e.en,children:c}),j]})}),T=o.forwardRef(function(t,r){const{zhName:a,enName:c,foregroundColour:g,backgroundColour:B,passed:m,spanDigits:Z,className:w,classNames:n,children:j,textProps:e,...S}=t,d=o.useRef(null),[l,f]=o.useState({width:0});o.useEffect(()=>{d.current&&f(d.current.getBBox())},[a,c]);const h=Math.max(45,l.width+4);return i.jsxs("g",{ref:r,textAnchor:"middle",fill:m?D.white:g,className:$(n==null?void 0:n.wrapper,w),...S,children:[i.jsx(I,{customWidth:h,fill:m?"#aaa":B}),i.jsxs("g",{ref:d,children:[i.jsx("text",{fontSize:8.5,y:8,dominantBaseline:"central",className:n==null?void 0:n.zh,...e==null?void 0:e.zh,children:a}),i.jsx("text",{fontSize:5.5,y:18,dominantBaseline:"middle",className:n==null?void 0:n.en,...e==null?void 0:e.en,children:c})]}),j]})}),M=o.forwardRef(function(t,r){const{zhName:a,enName:c,foregroundColour:g,backgroundColour:B,passed:m,spanDigits:Z,className:w,classNames:n,children:j,textProps:e,...S}=t,d=o.useRef(null),l=o.useRef(null),[f,h]=o.useState({width:0}),[y,E]=o.useState({width:0});o.useEffect(()=>{d.current&&h(d.current.getBBox()),l.current&&E(l.current.getBBox())},[a,c]);const p=x/Math.max(x,f.width),u=x/Math.max(x,y.width),z={nameZh:{y:7.3+13.5*(1-p)*p/2},nameEn:{y:19.5-9*(1-u)*u/2}};return i.jsxs("g",{ref:r,textAnchor:"middle",fill:m?D.white:g,className:$(n==null?void 0:n.wrapper,w),...S,children:[i.jsx(I,{fill:m?"#aaa":B}),i.jsx("text",{ref:d,fontSize:12,transform:`translate(0,${z.nameZh.y})scale(${p})`,dominantBaseline:"central",className:n==null?void 0:n.zh,...e==null?void 0:e.zh,children:a}),i.jsx("text",{ref:l,fontSize:8,transform:`translate(0,${z.nameEn.y})scale(${u})`,dominantBaseline:"middle",className:n==null?void 0:n.en,...e==null?void 0:e.en,children:c}),j]})}),H=o.memo(o.forwardRef(function(t,r){const{zhName:a,enName:c,spanDigits:g}=t;switch(W(a,c)){case 1:return g?i.jsx(A,{ref:r,...t}):i.jsx(N,{ref:r,...t});case 2:return i.jsx(A,{ref:r,...t});default:return a.length>=5?i.jsx(T,{ref:r,...t}):i.jsx(M,{ref:r,...t})}})),W=(s,t)=>b(s)!==void 0?1:_(s,t)!==void 0?2:3;export{H as L,D as M};
